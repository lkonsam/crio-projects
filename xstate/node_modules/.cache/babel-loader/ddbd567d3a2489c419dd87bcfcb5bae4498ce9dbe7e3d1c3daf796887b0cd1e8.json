{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\crio-projects\\\\xstate\\\\src\\\\Pages\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport styles from \"./Home.module.css\";\nimport { fetchCities, fetchCountries, fetchStates } from \"../Api/Api\";\nimport SelectOption from \"../Components/SelectOption\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const [data, setData] = useState({\n    countries: [],\n    states: [],\n    cities: []\n  });\n  const [formData, setFormData] = useState({\n    countries: \"\",\n    states: \"\",\n    cities: \"\"\n  });\n  function fetchData(key, callback) {\n    callback().then(response => setData(prev => ({\n      ...prev,\n      [key]: response\n    })));\n  }\n  function inputHandler(event) {\n    const target = event.target;\n    setFormData({\n      ...formData,\n      [target.name]: target.value\n    });\n    if (target.name === \"countries\") {\n      setData(prev => ({\n        ...prev,\n        states: [],\n        cities: []\n      }));\n      setFormData(prev => ({\n        ...prev,\n        states: \"\",\n        cities: \"\"\n      }));\n      fetchData(\"states\", () => fetchStates(target.value));\n    } else if (target.name === \"states\") {\n      setData(prev => ({\n        ...prev,\n        cities: []\n      }));\n      setFormData(prev => ({\n        ...prev,\n        cities: \"\"\n      }));\n      fetchData(\"cities\", () => fetchCities(formData.countries, target.value));\n    }\n  }\n  useEffect(() => {\n    fetchData(\"countries\", fetchCountries);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Select Location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.inputWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"countries\",\n        className: styles.select,\n        onChange: inputHandler,\n        value: formData.countries,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"Select Country\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SelectOption, {\n          options: data.countries\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"states\",\n        className: styles.select,\n        disabled: data.states.length === 0,\n        onChange: inputHandler,\n        value: formData.states,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"Select State\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SelectOption, {\n          options: data.states\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"cities\",\n        className: styles.select,\n        disabled: data.cities.length === 0,\n        onChange: inputHandler,\n        value: formData.cities,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"Select City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SelectOption, {\n          options: data.cities\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), formData.cities !== \"\" && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: [\"You selected\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.cityName,\n          children: formData.cities\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), \",\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), \" \", formData.states, \", \", formData.countries, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(Home, \"bqzpIJ+51igNf92xGdSyBS0NgN8=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","styles","fetchCities","fetchCountries","fetchStates","SelectOption","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","_s","data","setData","countries","states","cities","formData","setFormData","fetchData","key","callback","then","response","prev","inputHandler","event","target","name","value","children","fileName","_jsxFileName","lineNumber","columnNumber","className","inputWrapper","select","onChange","disabled","options","length","cityName","_c","$RefreshReg$"],"sources":["C:/wamp64/www/crio-projects/xstate/src/Pages/Home.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport styles from \"./Home.module.css\";\r\nimport { fetchCities, fetchCountries, fetchStates } from \"../Api/Api\";\r\nimport SelectOption from \"../Components/SelectOption\";\r\n\r\nexport default function Home() {\r\n  const [data, setData] = useState({ countries: [], states: [], cities: [] });\r\n  const [formData, setFormData] = useState({\r\n    countries: \"\",\r\n    states: \"\",\r\n    cities: \"\",\r\n  });\r\n\r\n  function fetchData(key, callback) {\r\n    callback().then((response) =>\r\n      setData((prev) => ({ ...prev, [key]: response }))\r\n    );\r\n  }\r\n\r\n  function inputHandler(event) {\r\n    const target = event.target;\r\n\r\n    setFormData({ ...formData, [target.name]: target.value });\r\n\r\n    if (target.name === \"countries\") {\r\n        setData( (prev) => ({ ...prev, states: [], cities: [] })  ); \r\n        setFormData((prev) => ({ ...prev,   states: \"\",   cities: \"\" })  );\r\n      fetchData(\"states\", () => fetchStates(target.value));  \r\n    } \r\n    else if (target.name === \"states\") {\r\n        setData( (prev) => ({ ...prev, cities: [] })  ); \r\n      setFormData((prev) => ({ ...prev,  cities: \"\" })  );\r\n      fetchData(\"cities\", () => fetchCities(formData.countries, target.value));\r\n    } \r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData(\"countries\", fetchCountries);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h3>Select Location</h3>\r\n      <div className={styles.inputWrapper}>\r\n        <select\r\n          name=\"countries\"\r\n          className={styles.select}\r\n          onChange={inputHandler}\r\n          value={formData.countries}\r\n        >\r\n          <option value=\"\" disabled>\r\n            Select Country\r\n          </option>\r\n          <SelectOption options={data.countries} />\r\n        </select>\r\n\r\n        <select\r\n          name=\"states\"\r\n          className={styles.select}\r\n          disabled={data.states.length === 0}\r\n          onChange={inputHandler}\r\n          value={formData.states}\r\n        >\r\n          <option value=\"\" disabled>\r\n            Select State\r\n          </option>\r\n          <SelectOption options={data.states} />\r\n        </select>\r\n\r\n        <select\r\n          name=\"cities\"\r\n          className={styles.select}\r\n          disabled={data.cities.length === 0}\r\n          onChange={inputHandler}\r\n          value={formData.cities}\r\n        >\r\n          <option value=\"\" disabled>\r\n            Select City\r\n          </option>\r\n          <SelectOption options={data.cities} />\r\n        </select>\r\n      </div>\r\n      {formData.cities !== \"\" && (\r\n        <p>\r\n          {\" \"}\r\n          <b>\r\n            You selected{\" \"}\r\n            <span className={styles.cityName}>{formData.cities}</span>,\r\n          </b>{\" \"}\r\n          {formData.states}, {formData.countries}{\" \"}\r\n        </p>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}